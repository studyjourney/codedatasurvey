<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Theme Made By www.w3schools.com - No Copyright -->
    <title>Bootstrap Theme Simply Me</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- Favicons -->


    <!-- Custom styles for this template -->
    <link href="css/main.css" rel="stylesheet">
    <style>
        body, html {
          height: 100%;
          margin: 0;
          font: 400 15px/1.8 "Lato", sans-serif;
          color: #777;
        }
        
        .bgimg-1, .bgimg-2, .bgimg-3 {
          position: relative;
          opacity: 0.65;
          background-attachment: fixed;
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
        
        }
        .bgimg-1 {
          background-image: url("/img/alina-grubnyak-ZiQkhI7417A-unsplash.jpg");
          min-height: 100%;
        }
        
        .bgimg-2 {
          background-image: url("img_parallax2.jpg");
          min-height: 400px;
        }
        
        .bgimg-3 {
          background-image: url("img_parallax3.jpg");
          min-height: 400px;
        }
        
        .caption {
          position: absolute;
          left: 0;
          top: 50%;
          width: 100%;
          text-align: center;
          color: #000;
        }
        
        .caption span.border {
          background-color: #111;
          color: #fff;
          padding: 18px;
          font-size: 25px;
          letter-spacing: 10px;
        }
        
        h3 {
          letter-spacing: 5px;
          text-transform: uppercase;
          font: 20px "Lato", sans-serif;
          color: #111;
        }
        
        /* Turn off parallax scrolling for tablets and phones */
        @media only screen and (max-device-width: 1024px) {
          .bgimg-1, .bgimg-2, .bgimg-3 {
            background-attachment: scroll;
          }
        }
        </style>
        </head>
        <body>
        
        <div class="bgimg-1">
          <div class="caption">
          <span class="border">Code Data Survey</span>
          </div>
        </div>
        
        <div style="color: #777;background-color:white;text-align:center;padding:50px 80px;text-align: justify;">
          <h3 style="text-align:center;">Help Us!</h3>
          <p>The Study Journey Project wants to make getting modules easier.</p>
        </div>
        
        <div class="bgimg-2">
          <div class="caption">
          <span class="border" style="background-color:transparent;font-size:25px;color: #f7f7f7;">LESS HEIGHT</span>
          </div>
        </div>
        
        <div style="position:relative;">
          <div style="color:#ddd;background-color:#282E34;text-align:center;padding:50px 80px;text-align: justify;">
          <!-- Placeholder functionality-only UI -->

<div id='welcome-div'>
    <a href='https://app.code.berlin/settings?table=api', target='_blank'>
        Get your token here
    </a>
    <br />
    <form id='token-form' action='/token'>
        <label>Token:</label>
        <br />
        <input type='password' id='token-input' />
        <br />
        I would like to give you the following anonymous data:
        <br />
        <input type='checkbox' id='assessments-checkbox' checked disabled /><label>Assessments history</label>
        <br />
        <input type='checkbox' id='current-semester-checkbox' checked /><label>Currently enrolled modules</label>
        <br />
        <input type='checkbox' id='events-checkbox' checked/><label>Events history</label>
        <br />
        <input type='checkbox' id='projects-checkbox' checked/><label>Projects history</label>
        <br />
        <input type='submit' value='Submit' />
    </form>
</div>
<div id='sending-div' style='display:none'>
    Processing...
</div>
<div id='success-div' style='display:none'>
    Thanks!
</div>
<div id='error-div' style='display:none'>
    Oops :(
</div>

<script type='text/javascript'>
    const welcomeDiv = document.getElementById('welcome-div')
    const sendingDiv = document.getElementById('sending-div')
    const successDiv = document.getElementById('success-div')
    const errorDiv = document.getElementById('error-div')
    document.getElementById('token-form').addEventListener('submit', e => {
        e.preventDefault()
        welcomeDiv.setAttribute('style', 'display:none')
        sendingDiv.setAttribute('style', 'display:block')
        fetch('/codeData', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                token: document.getElementById('token-input').value,
                permissions: {
                    currentSemester: document.getElementById('current-semester-checkbox').checked,
                    events: document.getElementById('events-checkbox').checked,
                    projects: document.getElementById('projects-checkbox').checked,
                }
            }),
        })
        .then(res => {
            if (res.status < 400) successDiv.setAttribute('style', 'display:block')
            else errorDiv.setAttribute('style', 'display:block')
        })
        .catch(() => {
            errorDiv.setAttribute('style', 'display:block')
        })
        .finally(() => {
            sendingDiv.setAttribute('style', 'display:none')
        })
    })
</script>
          </div>
        </div>
        
        <div class="bgimg-3">
          <div class="caption">
          <span class="border" style="background-color:transparent;font-size:25px;color: #f7f7f7;">SCROLL UP</span>
          </div>
        </div>
        
        <div style="position:relative;">
          <div style="color:#ddd;background-color:#282E34;text-align:center;padding:50px 80px;text-align: justify;">
          <p>Scroll up and down to really get the feeling of how Parallax Scrolling works.</p>
          </div>
        </div>
        
        <div class="bgimg-1">
          <div class="caption">
          <span class="border">COOL!</span>
          </div>
        </div>

    <!-- Footer -->
    <footer class="container-fluid bg-4 text-center">
        <p>Code Student Data Survey</p>
        <p>
            <a href="#">Study Journey Team</a> - Copyright 2020
        </p>
    </footer>

</body>

</html>
